Search.setIndex({"docnames": ["credit", "dependencies", "driver_setup", "exercises", "gpiodriver", "hellodevicetree", "hellodriver", "index", "kernel_build", "purpose", "usage"], "filenames": ["credit.rst", "dependencies.rst", "driver_setup.rst", "exercises.rst", "gpiodriver.rst", "hellodevicetree.rst", "hellodriver.rst", "index.rst", "kernel_build.rst", "purpose.rst", "usage.rst"], "titles": ["Credit and inspiration", "Dependencies", "Driver Installation and Configuration", "Exercises (documentation lesson)", "GPIO Device Driver Documentation", "Hello World Device tree", "Hello World Driver", "Welcome to My Linux Kernel Driver Documentation", "Building embedded linux system using mainline kernel for beaglebone black", "Purpose", "Usage"], "terms": {"deriv": 0, "from": [0, 4, 5, 8], "http": [0, 8], "hpc": 0, "carpentri": 0, "github": [0, 3], "io": 0, "python": [0, 1, 3], "which": 0, "i": [0, 4, 5, 8], "distribut": [0, 3, 8], "under": 0, "cc": [0, 8], "BY": 0, "4": [0, 8], "0": [0, 4, 5, 6, 8], "creativecommon": 0, "org": [0, 8], "licens": [0, 5, 6, 8], "numpi": 1, "matplotlib": 1, "docker": 1, "follow": [2, 5], "step": [2, 5, 8], "your": [2, 3, 4, 5], "custom": 2, "linux": [2, 4, 5, 6], "sourc": [2, 8], "code": [2, 3, 7, 8], "file": [2, 3, 5, 8], "content": [2, 5], "config": [2, 8], "tristat": 2, "hello": [2, 7], "support": 2, "help": [2, 3], "thi": [2, 3, 4, 5, 6, 8], "enabl": [2, 5], "specifi": [2, 5], "obj": 2, "config_hello_driv": 2, "o": 2, "insid": 2, "directori": [2, 7, 8], "": [2, 3, 4, 5], "implement": [2, 5], "open": [2, 3, 5, 8], "line": 2, "run": [2, 3, 4, 5, 8], "command": [2, 5], "termin": [2, 8], "make": [2, 8], "menuconfig": 2, "menu": 2, "navig": 2, "devic": [2, 6, 7], "save": 2, "exit": [2, 7], "discuss": 3, "idea": 3, "classroom": 3, "among": 3, "group": 3, "2": [3, 8], "3": 3, "person": 3, "issu": 3, "inform": [3, 4, 5, 7], "commun": 3, "about": [3, 4, 5, 6], "problem": 3, "how": 3, "plan": 3, "solv": 3, "why": 3, "we": 3, "do": [3, 8], "fork": 3, "project": 3, "commit": [3, 8], "In": [3, 4, 5], "messag": [3, 5, 7], "auto": 3, "close": 3, "have": [3, 8], "address": [3, 4, 5], "submit": 3, "pull": 3, "request": 3, "review": 3, "after": [3, 8], "ar": [3, 5, 8], "merg": 3, "verifi": 3, "updat": 3, "itself": 3, "purpos": [3, 8], "exampl": [3, 5, 8], "clone": [3, 8], "describ": 3, "tree": [3, 7], "structur": [3, 5], "write": [3, 4, 9, 10], "sentenc": 3, "two": [3, 6, 8], "zipf": 3, "law": 3, "link": 3, "wikipedia": 3, "coordin": 3, "work": 3, "previou": 3, "check": [3, 5, 8], "style": 3, "pycodestyl": 3, "give": 3, "other": [3, 5], "develop": 3, "hint": 3, "thei": 3, "can": [3, 4, 5, 8], "contribut": 3, "build": [3, 7], "local": 3, "add": [3, 5, 7], "an": [3, 5, 8], "output": [3, 4], "plot": 3, "where": [3, 4], "ask": 3, "math": 3, "equat": 3, "somewher": 3, "test": [3, 8], "possibl": 3, "new": [3, 8], "futur": 3, "workshop": 3, "edit": 3, "includ": [4, 5, 6, 7, 8], "modul": [4, 5, 7, 8], "h": [4, 5, 6], "kernel": [4, 5, 6], "of_gpio": 4, "platform_devic": [4, 5], "defin": [4, 5], "driver_nam": 4, "my_gpio_driv": 4, "struct": [4, 5], "my_gpio_data": 4, "int": [4, 5, 6], "gpio_pin": 4, "static": [4, 5, 6], "my_gpio_prob": 4, "pdev": [4, 5], "device_nod": [4, 5], "np": [4, 5], "dev": [4, 5, 8], "of_nod": [4, 5], "data": [4, 5], "ret": [4, 5], "pr_err": [4, 5], "node": [4, 5], "found": [4, 5], "n": [4, 5, 6], "return": [4, 5, 6], "enodev": [4, 5], "devm_kzalloc": [4, 5], "sizeof": [4, 5], "gfp_kernel": [4, 5], "enomem": [4, 5], "read": [4, 5], "pin": 4, "properti": [4, 7], "of_get_gpio": 4, "fail": [4, 5], "get": 4, "pr_info": [4, 5], "d": [4, 5], "logic": [4, 5], "goe": [4, 5], "here": [4, 5], "store": [4, 5], "specif": [4, 5], "platform": [4, 7], "platform_set_drvdata": [4, 5], "my_gpio_remov": 4, "remov": [4, 5], "const": [4, 5], "of_device_id": [4, 5], "my_gpio_of_match": 4, "compat": [4, 5], "my_gpio_devic": 4, "module_device_t": [4, 5], "platform_driv": [4, 5], "name": [4, 5, 8], "owner": [4, 5], "this_modul": [4, 5], "of_match_t": [4, 5], "probe": [4, 7], "module_platform_driv": [4, 5], "module_licens": [4, 5, 7], "gpl": [4, 5, 6], "module_author": [4, 5, 7], "dt": [4, 5, 8], "v1": [4, 5], "plugin": [4, 5], "my_board": 4, "my_gpio_nod": 4, "gpio0": 4, "10": [4, 8], "gpio_active_high": 4, "adjust": 4, "control": [4, 5], "accordingli": 4, "The": [4, 5, 6, 8], "present": 4, "us": [4, 5, 6, 7], "direct": 4, "illustr": 4, "flow": 4, "initi": [4, 5, 7], "oper": [4, 5], "reg": [4, 5], "kei": [4, 5], "part": 4, "process": [4, 7], "provid": [4, 5, 6], "memori": [4, 5], "map": [4, 8], "region": 4, "associ": [4, 5], "subsequ": 4, "interact": [4, 5], "user": [4, 8], "space": [4, 8], "repres": [4, 5], "level": [4, 5, 7, 8], "environ": [4, 8], "applic": 4, "through": 4, "access": 4, "subsystem": 4, "manag": 4, "api": [4, 8], "interfac": 4, "abstract": 4, "layer": 4, "allow": 4, "facilit": 4, "hardwar": [4, 5], "processor": 4, "ip": 4, "regist": [4, 5], "configur": [4, 5, 7, 8], "input": 4, "state": [4, 5], "valu": [4, 5], "mydriv": [5, 6], "simpl": [5, 8], "demonstr": 5, "integr": 5, "id": 5, "dure": 5, "perform": 5, "some": 5, "basic": 5, "function": [5, 6], "addition": 5, "c": [5, 7, 8], "mydriver_prob": 5, "device_id": 5, "of_property_read_u32": 5, "einval": 5, "mydriver_remov": 5, "mydriver_of_match": 5, "mydriver_driv": 5, "abhi": [5, 6], "header": 5, "necessari": 5, "handl": 5, "call": [5, 8], "when": 5, "match": 5, "string": 5, "It": 5, "retriev": 5, "exist": 5, "print": 5, "error": 5, "variabl": [5, 8], "If": [5, 8], "log": [5, 6], "you": [5, 8], "design": 5, "section": 5, "being": 5, "ani": 5, "cleanup": 5, "tabl": 5, "entri": [5, 7], "mydriver_nod": 5, "123": 5, "indic": 5, "set": [5, 8], "replac": 5, "actual": 5, "just": 5, "want": 5, "To": [5, 8], "explor": 5, "sysf": 5, "system": [5, 7], "l": [5, 8], "sy": 5, "firmwar": 5, "devicetre": 5, "base": 5, "cell": 5, "cpu": 5, "model": 5, "pmu": 5, "4b000000": 5, "size": [5, 8], "fixedregulator0": 5, "serial": [5, 8], "number": 5, "alias": 5, "interrupt": 5, "parent": 5, "soc": 5, "chosen": 5, "led": 5, "ocp": 5, "80000000": 5, "opp": 5, "avail": 5, "each": 5, "within": 5, "those": 5, "involv": 5, "between": 5, "framework": 5, "detail": 5, "breakdown": 5, "contain": [5, 8], "scan": 5, "identifi": 5, "execut": 5, "task": 5, "like": [5, 8], "extract": 5, "attach": 5, "successfulli": [5, 8], "gain": 5, "over": 5, "No": 5, "independ": 5, "simplifi": 5, "scenario": 5, "explicitli": 5, "shown": 5, "remain": 5, "long": 5, "consist": 5, "hold": 5, "mydriver_data": 5, "detect": 5, "OF": 5, "obtain": 5, "alloc": 5, "variou": 5, "of_property_read_": 5, "would": 5, "typic": 5, "place": 5, "arrai": 5, "case": 5, "callback": 5, "authorship": 5, "char": 5, "device_nam": 5, "resource_size_t": 5, "reg_bas": 5, "reg_siz": 5, "interrupt_numb": 5, "of_property_read_str": 5, "of_address_to_resourc": 5, "0x": 5, "llx": 5, "unsign": 5, "connect": 5, "definit": 5, "statu": 5, "0x10000000": 5, "0x1000": 5, "42": 5, "okai": 5, "myboard": 5, "example_devic": 5, "document": 6, "__init": 6, "mydriver_init": 6, "void": 6, "kern_info": 6, "my": 6, "__exit": 6, "mydriver_exit": 6, "templat": 6, "ha": 6, "main": 6, "author": 6, "descript": 6, "serv": 6, "These": 6, "macro": 6, "embed": 7, "mainlin": 7, "beaglebon": 7, "black": 7, "arm": 7, "cross": 7, "compil": 7, "setup": 7, "world": [7, 8], "introduct": 7, "module_init": 7, "module_exit": 7, "module_descript": 7, "printk": 7, "instal": [7, 8], "hellodriv": 7, "kconfig": [7, 8], "makefil": [7, 8], "creat": [7, 8], "hello_driv": 7, "top": 7, "modifi": 7, "explan": 7, "overlai": 7, "list": [7, 8], "more": 7, "snippet": 7, "gpio": 7, "block": [7, 8], "diagram": [7, 8], "index": 7, "search": 7, "page": 7, "befor": 8, "jump": 8, "deep": 8, "wonder": 8, "scratch": 8, "let": 8, "u": 8, "up": 8, "lf": 8, "pleas": 8, "sure": 8, "try": 8, "post": 8, "so": 8, "easi": 8, "keep": 8, "track": 8, "thing": 8, "now": 8, "travers": 8, "cd": 8, "debian": 8, "suggest": 8, "same": 8, "els": 8, "virtual": 8, "machin": 8, "download": 8, "imag": 8, "copi": 8, "osbox": 8, "either": 8, "vmware": 8, "virtualbox": 8, "gcc": 8, "untar": 8, "wget": 8, "releas": 8, "linaro": 8, "compon": 8, "toolchain": 8, "binari": 8, "6": 8, "2016": 8, "11": 8, "gnueabihf": 8, "1": 8, "i686_arm": 8, "tar": 8, "xz": 8, "xf": 8, "export": 8, "pwd": 8, "bin": 8, "version": 8, "type": 8, "should": 8, "see": 8, "someth": 8, "20161016": 8, "copyright": 8, "free": 8, "softwar": 8, "foundat": 8, "inc": 8, "condit": 8, "There": 8, "NO": 8, "warranti": 8, "even": 8, "merchant": 8, "fit": 8, "FOR": 8, "A": 8, "particular": 8, "www": 8, "pub": 8, "v4": 8, "x": 8, "xvf": 8, "default": 8, "sudo": 8, "arch": 8, "cross_compil": 8, "omap2plus_defconfig": 8, "uimag": 8, "dtb": 8, "loadaddr": 8, "0x80008000": 8, "j": 8, "move": 8, "one": 8, "bootload": 8, "boot": 8, "git": 8, "denx": 8, "de": 8, "am335x_boneblack_defconfig": 8, "driver": 8, "maintain": 8, "spl": 8, "ld": 8, "board": 8, "mlo": 8, "nodtb": 8, "cmd": 8, "f": 8, "byteswap": 8, "tool": 8, "srec": 8, "common": 8, "net": 8, "sym": 8, "mk": 8, "kbuild": 8, "readm": 8, "cfg": 8, "disk": 8, "lib": 8, "script": 8, "doc": 8, "snapshot": 8, "img": 8, "prepar": 8, "microsd": 8, "card": 8, "come": 8, "far": 8, "assum": 8, "next": 8, "pretti": 8, "all": 8, "need": 8, "take": 8, "sd": 8, "partit": 8, "first": 8, "fat32": 8, "second": 8, "ext4": 8, "root": 8, "gpart": 8, "select": 8, "right": 8, "click": 8, "unmount": 8, "delet": 8, "100": 8, "mb": 8, "enter": 8, "mib": 8, "choos": 8, "label": 8, "unalloc": 8, "1000": 8, "rootf": 8, "mark": 8, "am335x": 8, "boneblack": 8, "higher": 8, "And": 8, "uenv": 8, "txt": 8, "below": 8, "0x82000000": 8, "fdtaddr": 8, "0x88000000": 8, "arg": 8, "setenv": 8, "bootarg": 8, "consol": 8, "ttyo0": 8, "115200n8": 8, "mmcblk0p2": 8, "rw": 8, "rootfstyp": 8, "rootwait": 8, "load": 8, "mmc": 8, "fdt": 8, "bonegreen": 8, "uenvcmd": 8, "bootm": 8, "minim": 8, "busybox": 8, "decompress": 8, "7z": 8, "cp": 8, "media": 8, "rm": 8, "go": 8, "j4": 8, "install_mod_path": 8, "modules_instal": 8, "sync": 8, "umount": 8, "rf": 8, "plug": 8, "press": 8, "s2": 8, "button": 8, "power": 8, "cabl": 8, "adapt": 8, "unam": 8, "me": [9, 10]}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"credit": 0, "inspir": 0, "depend": 1, "requir": 1, "option": 1, "driver": [2, 4, 5, 6, 7], "instal": 2, "configur": 2, "add": 2, "entri": 2, "hellodriv": 2, "kconfig": 2, "makefil": 2, "creat": 2, "hello_driv": 2, "c": [2, 4], "includ": 2, "top": 2, "level": 2, "modifi": 2, "build": [2, 8], "kernel": [2, 7, 8], "exercis": 3, "document": [3, 4, 7], "lesson": 3, "befor": 3, "you": 3, "start": 3, "basic": [3, 9], "advanc": 3, "meta": 3, "gpio": 4, "devic": [4, 5], "code": [4, 5, 10], "tree": [4, 5], "snippet": [4, 5], "block": 4, "diagram": 4, "hello": [5, 6], "world": [5, 6], "introduct": [5, 6], "explan": 5, "overlai": 5, "directori": 5, "list": 5, "platform": 5, "probe": 5, "process": 5, "more": 5, "properti": 5, "initi": 6, "exit": 6, "modul": 6, "inform": 6, "module_init": 6, "module_exit": 6, "module_licens": 6, "module_author": 6, "module_descript": 6, "printk": 6, "messag": 6, "welcom": 7, "my": 7, "linux": [7, 8], "indic": 7, "tabl": 7, "embed": 8, "system": 8, "us": 8, "mainlin": 8, "beaglebon": 8, "black": 8, "arm": 8, "cross": 8, "compil": 8, "setup": 8, "purpos": 9, "usag": 10, "how": 10, "clone": 10, "where": 10, "find": 10, "result": 10}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 60}, "alltitles": {"Credit and inspiration": [[0, "credit-and-inspiration"]], "Dependencies": [[1, "dependencies"]], "Required": [[1, "required"]], "Optional": [[1, "optional"]], "Driver Installation and Configuration": [[2, "driver-installation-and-configuration"]], "Add entries to drivers/hellodriver/Kconfig:": [[2, "add-entries-to-drivers-hellodriver-kconfig"]], "Add entries to drivers/hellodriver/Makefile:": [[2, "add-entries-to-drivers-hellodriver-makefile"]], "Create drivers/hellodriver/hello_driver.c:": [[2, "create-drivers-hellodriver-hello-driver-c"]], "Include drivers/hellodriver/Kconfig in the top-level drivers/Kconfig:": [[2, "include-drivers-hellodriver-kconfig-in-the-top-level-drivers-kconfig"]], "Modify the top-level drivers/Makefile:": [[2, "modify-the-top-level-drivers-makefile"]], "Configure and build the kernel:": [[2, "configure-and-build-the-kernel"]], "Exercises (documentation lesson)": [[3, "exercises-documentation-lesson"]], "Before you start": [[3, "before-you-start"]], "Basic": [[3, "basic"]], "Advanced": [[3, "advanced"]], "Meta": [[3, "meta"]], "GPIO Device Driver Documentation": [[4, "gpio-device-driver-documentation"]], "C Code for the GPIO Device Driver": [[4, "c-code-for-the-gpio-device-driver"]], "Device Tree Snippet for the GPIO Device": [[4, "device-tree-snippet-for-the-gpio-device"]], "Block Diagram Documentation": [[4, "block-diagram-documentation"]], "Device Tree Block Diagram": [[4, "device-tree-block-diagram"]], "GPIO Block Diagram": [[4, "gpio-block-diagram"]], "Hello World Device tree": [[5, "hello-world-device-tree"]], "Introduction": [[5, "introduction"], [6, "introduction"]], "Driver Code": [[5, "driver-code"]], "Explanation": [[5, "explanation"], [5, "id1"]], "Device Tree Overlay": [[5, "device-tree-overlay"]], "Device Tree Directory Listing": [[5, "device-tree-directory-listing"]], "Platform Driver Probing Process": [[5, "platform-driver-probing-process"]], "Hello World Device tree with more properties": [[5, "hello-world-device-tree-with-more-properties"]], "Device Tree Snippet": [[5, "device-tree-snippet"]], "Hello World Driver": [[6, "hello-world-driver"]], "Initialization and Exit": [[6, "initialization-and-exit"]], "Module Information": [[6, "module-information"]], "module_init and module_exit": [[6, "module-init-and-module-exit"]], "MODULE_LICENSE, MODULE_AUTHOR, and MODULE_DESCRIPTION": [[6, "module-license-module-author-and-module-description"], [6, "id1"]], "printk Messages": [[6, "printk-messages"]], "Welcome to My Linux Kernel Driver Documentation": [[7, "welcome-to-my-linux-kernel-driver-documentation"]], "Indices and tables": [[7, "indices-and-tables"]], "Building embedded linux system using mainline kernel for beaglebone black": [[8, "building-embedded-linux-system-using-mainline-kernel-for-beaglebone-black"]], "ARM Cross Compiler Setup": [[8, "arm-cross-compiler-setup"]], "Purpose": [[9, "purpose"]], "Basics": [[9, "basics"]], "Usage": [[10, "usage"]], "How to clone the code": [[10, "how-to-clone-the-code"]], "Where to find the results": [[10, "where-to-find-the-results"]]}, "indexentries": {}})